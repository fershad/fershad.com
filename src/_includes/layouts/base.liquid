<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% include "partials/metadata" %}
    <link rel="stylesheet" href="/css/index.css">
    {% if css %}
      <link rel="stylesheet" href="/css/{{ css }}">
    {% endif %}
    <link
      rel="stylesheet"
      href="/css/glitch.css"
      data-gaw-remove>

    <link rel="shortcut icon" href="/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/apple-touch-icon.png">
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicon-32x32.png">
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicon-16x16.png">

    <link
      data-gaw-remove
      rel="icon"
      id="favicon-emoji"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📷</text></svg>">
  </head>

  <body>
    {% include 'partials/header.liquid' %}
    <div data-gaw-remove></div>
    <div class="gaw-banner center-align">
      <small>This website is grid-aware, and some functionality has been changed.
        <a href="/grid-aware">Find out more</a>.</small>
    </div>
    <a class="skip-link banner" href="#main-content">Skip to content</a>
    <main id="main-content">{{ content }}</main>
    {% include 'partials/footer.liquid' %}
  </body>

  <script data-gaw-remove>
    // Go through an array of emojis and set the favicon-emoji to a random one. The code should loop through the array, like a slot machine before settling on one.
    const emojiArray = ['🚴‍♂️', '🏉', '🇹🇼', '🇦🇺', '💚', '👨🏽‍💻', '🐱', '/apple-touch-icon.png']

    const faviconEmoji = document.getElementById('favicon-emoji')
    const loopCount = 10

    
    for (let i = 0; i < loopCount; i++) {
      setTimeout(() => {
        let emoji = emojiArray[Math.floor(Math.random() * emojiArray.length)]
        if (emoji === '/apple-touch-icon.png') {
          faviconEmoji.setAttribute('href', '/apple-touch-icon.png')
        } else {
          faviconEmoji.setAttribute('href', `data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${emoji}</text></svg>`)
        }
      }, i * 100)
    }
  </script>
</html>